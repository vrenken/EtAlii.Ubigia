<Project>

  <PropertyGroup>
    <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>
    <CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\GeneratedFiles</CompilerGeneratedFilesOutputPath>
  </PropertyGroup>

  <!-- ===================================================== -->

  <Target Name="_InjectAdditionalFiles" BeforeTargets="GenerateMSBuildEditorConfigFileShouldRun">
    <ItemGroup>
      <AdditionalFiles Include="@(GclFile)" SourceItemGroup="GclFile" />
    </ItemGroup>
  </Target>

  <ItemGroup>
    <CompilerVisibleItemMetadata Include="AdditionalFiles" MetadataName="SourceItemGroup" />
  </ItemGroup>

  <!-- ===================================================== -->

  <ItemDefinitionGroup>
    <GclSchema>
      <Namespace />
    </GclSchema>
  </ItemDefinitionGroup>

  <ItemGroup>
    <None Remove="**/*.gcl"/>
    <GclFile Include="**/*.gcl"/>
  </ItemGroup>

  <ItemGroup>
    <CompilerVisibleProperty Include="GclSchemaNamespace" />
    <CompilerVisibleItemMetadata Include="GclSchema" MetadataName="Namespace" />
  </ItemGroup>
</Project>
