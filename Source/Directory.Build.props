<!-- Stuff that needs to happen at the start of the MSBuild process should go in the .props file. -->
<Project>
  <PropertyGroup>
    <VersionPrefix>1.0.0.5</VersionPrefix>
    <PackageVersion Condition="'$(VersionSuffix)' == ''">$(VersionPrefix)</PackageVersion>
    <PackageVersion Condition="'$(VersionSuffix)' != ''">$(VersionPrefix)-$(VersionSuffix)</PackageVersion>

    <PackageLicenseExpression>MIT</PackageLicenseExpression>

    <Authors>Peter Vrenken</Authors>
    <Copyright>Copyright ©2012-2020 Peter Vrenken</Copyright>
    <Company>EtAlii</Company>
    <Product>Ubigia</Product>

    <UbigiaBuildPackages>false</UbigiaBuildPackages>
    <UbigiaLibraryTargetFramework>netstandard2.1</UbigiaLibraryTargetFramework>
    <UbigiaApplicationTargetFramework>net5.0</UbigiaApplicationTargetFramework>
    <DefineConstants Condition="'$(UbigiaIsRunningOnBuildAgent)' == 'true'">$(DefineConstants);UBIGIA_IS_RUNNING_ON_BUILD_AGENT</DefineConstants>

    <LangVersion>9</LangVersion>
    <GeneratePackageOnBuild>false</GeneratePackageOnBuild>

    <!-- We want to be able to cache NuGet packages on the build server
         For this we setup the build using the pattern described on the website below:
         https://blog.soenneker.com/how-to-setup-nuget-caching-in-azure-devops-8d94c57b5321 -->
    <RestorePackagesWithLockFile>true</RestorePackagesWithLockFile>
    
    <!-- We want to have comments on everything public -->
    <!--    <GenerateDocumentationFile>true</GenerateDocumentationFile>-->
    <!--    <MSBuildWarningsAsErrors>CS1591</MSBuildWarningsAsErrors>-->

  </PropertyGroup>

  <!-- The PropertyGroup below is used to configure all test projects. -->
  <PropertyGroup Condition="$(MSBuildProjectName.EndsWith('.Tests')) OR $(MSBuildProjectName.EndsWith('.Tests.Docker')) OR $(MSBuildProjectName.EndsWith('.Tests.Local'))">
    <TargetFramework>$(UbigiaApplicationTargetFramework)-windows</TargetFramework>
    <Description>Unit test project</Description>
    <OutputType>Library</OutputType>
    <IsPackable>false</IsPackable>
  </PropertyGroup>

</Project>

